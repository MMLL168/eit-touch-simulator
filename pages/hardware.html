<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ©Ÿæ§‹æ¶æ§‹èˆ‡ç¡¬é«”ç´°ç¯€ - EITè§¸æ§æ„Ÿæ¸¬ç³»çµ±</title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/navigation.css">
    <style>
        /* Layer Stack Visualization Styles */
        .layer-stack {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .layer-visual {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .layer-item {
            padding: 25px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .layer-item:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 12px rgba(0,0,0,0.2);
        }

        .layer-item.active {
            transform: translateX(10px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
        }

        .layer-1 {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .layer-2 {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .layer-3 {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .layer-4 {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            color: white;
        }

        .layer-item h3 {
            margin: 0 0 10px 0;
            color: white;
            font-size: 1.3em;
        }

        .layer-item p {
            margin: 0;
            opacity: 0.9;
        }

        .layer-details {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            min-height: 400px;
        }

        .layer-info {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .layer-info.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .spec-table {
            margin: 20px 0;
        }

        .spec-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        /* Electrode Visualization */
        #electrodeCanvas {
            display: block;
            margin: 20px auto;
            border: 2px solid #34495e;
            border-radius: 10px;
            background: #f9f9f9;
        }

        .electrode-params {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .param-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .param-card strong {
            display: block;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        /* Calculator Styles */
        .calculator {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .calc-input-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-field {
            display: flex;
            flex-direction: column;
        }

        .input-field label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }

        .input-field input {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .input-field input:focus {
            outline: none;
            border-color: #3498db;
        }

        .calc-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 6px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .calc-button:hover {
            transform: scale(1.05);
        }

        .calc-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .result-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .result-item .value {
            font-size: 1.8em;
            font-weight: bold;
            color: #3498db;
            display: block;
            margin: 10px 0;
        }

        .result-item .label {
            color: #7f8c8d;
            font-size: 0.9em;
        }

        /* Hardware Component Tables */
        .comparison-table {
            overflow-x: auto;
        }

        .comparison-table table {
            min-width: 600px;
        }

        .comparison-table th {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            white-space: nowrap;
        }

        .comparison-table td {
            vertical-align: top;
        }

        /* Info Cards */
        .info-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .info-card {
            padding: 20px;
            border-radius: 12px;
            border-left: 5px solid;
        }

        .info-card.info {
            background: #e3f2fd;
            border-left-color: #2196f3;
        }

        .info-card.warning {
            background: #fff3e0;
            border-left-color: #ff9800;
        }

        .info-card.success {
            background: #e8f5e9;
            border-left-color: #4caf50;
        }

        .info-card h4 {
            margin-top: 0;
            color: #2c3e50;
        }

        .info-card ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .info-card li {
            margin: 5px 0;
        }

        /* Block Diagram */
        .block-diagram {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
            margin: 20px 0;
        }

        .diagram-flow {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }

        .diagram-block {
            background: white;
            padding: 20px 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            min-width: 150px;
            position: relative;
        }

        .diagram-block.highlight {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .diagram-arrow {
            font-size: 2em;
            color: #3498db;
        }

        /* BOM Table */
        .bom-table {
            margin: 20px 0;
        }

        .bom-table th {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        .bom-table .category-row {
            background: #f0f0f0;
            font-weight: bold;
        }

        .bom-table .total-row {
            background: #ffe0b2;
            font-weight: bold;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .layer-stack {
                grid-template-columns: 1fr;
            }

            .diagram-flow {
                flex-direction: column;
            }

            .diagram-arrow {
                transform: rotate(90deg);
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-container">
        <ul class="nav-menu">
            <li><a href="../index.html">ä¸»é </a></li>
            <li><a href="hardware.html">ç¡¬é«”æ¶æ§‹</a></li>
            <li><a href="algorithm.html">æ¼”ç®—æ³•</a></li>
            <li><a href="applications.html">æ‡‰ç”¨æ¡ˆä¾‹</a></li>
        </ul>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <h1>ğŸ”§ æ©Ÿæ§‹æ¶æ§‹èˆ‡ç¡¬é«”ç´°ç¯€</h1>

        <!-- Section 1: Four-Layer Structure -->
        <div class="panel">
            <h2>ğŸ“ æ„Ÿæ¸¬å™¨å››å±¤çµæ§‹è¨­è¨ˆ</h2>
            <div class="layer-stack">
                <!-- Left: Visual Layers -->
                <div class="layer-visual">
                    <div class="layer-item layer-1 active" data-layer="1">
                        <h3>ğŸ›¡ï¸ ç¬¬ä¸€å±¤ï¼šä¿è­·å±¤</h3>
                        <p>æä¾›ç‰©ç†ä¿è­·èˆ‡çµ•ç·£åŠŸèƒ½</p>
                    </div>
                    <div class="layer-item layer-2" data-layer="2">
                        <h3>âš¡ ç¬¬äºŒå±¤ï¼šé˜»æŠ—å±¤</h3>
                        <p>é›»æµåˆ†ä½ˆèˆ‡è§¸æ§æª¢æ¸¬</p>
                    </div>
                    <div class="layer-item layer-3" data-layer="3">
                        <h3>ğŸ”Œ ç¬¬ä¸‰å±¤ï¼šé›»æ¥µå±¤</h3>
                        <p>ä¿¡è™Ÿæ¡é›†èˆ‡æ³¨å…¥é»</p>
                    </div>
                    <div class="layer-item layer-4" data-layer="4">
                        <h3>ğŸ”° ç¬¬å››å±¤ï¼šå±è”½å±¤</h3>
                        <p>é›»ç£å¹²æ“¾éš”é›¢</p>
                    </div>
                </div>

                <!-- Right: Layer Details -->
                <div class="layer-details">
                    <!-- Layer 1 Details -->
                    <div class="layer-info active" data-info="1">
                        <h3>ä¿è­·å±¤è©³ç´°è¦æ ¼</h3>
                        <table class="spec-table">
                            <thead>
                                <tr>
                                    <th>åƒæ•¸</th>
                                    <th>è¦æ ¼</th>
                                    <th>èªªæ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ææ–™</td>
                                    <td>PET / PMMA</td>
                                    <td>é€æ˜ã€è€ç£¨</td>
                                </tr>
                                <tr>
                                    <td>åšåº¦</td>
                                    <td>0.5 - 1.0 mm</td>
                                    <td>å½±éŸ¿è§¸æ§éˆæ•åº¦</td>
                                </tr>
                                <tr>
                                    <td>è¡¨é¢ç¡¬åº¦</td>
                                    <td>3H - 5H</td>
                                    <td>é˜²åˆ®è€ç£¨</td>
                                </tr>
                                <tr>
                                    <td>ä»‹é›»å¸¸æ•¸</td>
                                    <td>3.0 - 3.5</td>
                                    <td>å½±éŸ¿é›»å ´åˆ†å¸ƒ</td>
                                </tr>
                            </tbody>
                        </table>
                        <h4>è¨­è¨ˆè€ƒé‡</h4>
                        <ul>
                            <li>âœ… é€æ˜åº¦é«˜ï¼Œé©åˆé¡¯ç¤ºå™¨ä¸Šå±¤æ‡‰ç”¨</li>
                            <li>âœ… åŒ–å­¸ç©©å®šæ€§å¥½ï¼Œè€æ¸…æ½”åŠ‘è…è•</li>
                            <li>âš ï¸ åšåº¦éå¤§æœƒé™ä½è§¸æ§éˆæ•åº¦</li>
                            <li>âš ï¸ éœ€è¦è‰¯å¥½çš„é»åˆå±¤é¿å…æ°£æ³¡</li>
                        </ul>
                    </div>

                    <!-- Layer 2 Details -->
                    <div class="layer-info" data-info="2">
                        <h3>é˜»æŠ—å±¤è©³ç´°è¦æ ¼</h3>
                        <table class="spec-table">
                            <thead>
                                <tr>
                                    <th>åƒæ•¸</th>
                                    <th>è¦æ ¼</th>
                                    <th>èªªæ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ææ–™</td>
                                    <td>ITO / å°é›»èšåˆç‰©</td>
                                    <td>é€æ˜å°é›»ææ–™</td>
                                </tr>
                                <tr>
                                    <td>é¢é›»é˜»</td>
                                    <td>100 - 500 Î©/sq</td>
                                    <td>é›»æµåˆ†ä½ˆå‡å‹»æ€§</td>
                                </tr>
                                <tr>
                                    <td>é€å…‰ç‡</td>
                                    <td>> 85%</td>
                                    <td>é¡¯ç¤ºå™¨æ‡‰ç”¨éœ€æ±‚</td>
                                </tr>
                                <tr>
                                    <td>åšåº¦</td>
                                    <td>50 - 200 nm</td>
                                    <td>ITOè–„è†œåšåº¦</td>
                                </tr>
                            </tbody>
                        </table>
                        <h4>å„ªç¼ºé»åˆ†æ</h4>
                        <ul>
                            <li>âœ… ITOé€å…‰æ€§å„ªç•°ï¼Œé©åˆé¡¯ç¤ºæ‡‰ç”¨</li>
                            <li>âœ… å°é›»å‡å‹»ï¼Œä¿¡è™Ÿç©©å®š</li>
                            <li>âŒ ITOè„†æ€§é«˜ï¼Œä¸è€å½æŠ˜</li>
                            <li>âŒ å°é›»èšåˆç‰©æ›¿ä»£æ–¹æ¡ˆæˆæœ¬è¼ƒé«˜</li>
                        </ul>
                    </div>

                    <!-- Layer 3 Details -->
                    <div class="layer-info" data-info="3">
                        <h3>é›»æ¥µå±¤è©³ç´°è¦æ ¼</h3>
                        <table class="spec-table">
                            <thead>
                                <tr>
                                    <th>åƒæ•¸</th>
                                    <th>è¦æ ¼</th>
                                    <th>èªªæ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ææ–™</td>
                                    <td>éŠ…ç®” / éŠ€æ¼¿</td>
                                    <td>ä½é›»é˜»å°é«”</td>
                                </tr>
                                <tr>
                                    <td>é›»æ¥µæ•¸é‡</td>
                                    <td>16 - 32 å€‹</td>
                                    <td>å¸¸è¦‹é…ç½®ç‚º20å€‹</td>
                                </tr>
                                <tr>
                                    <td>é›»æ¥µå¯¬åº¦</td>
                                    <td>5 - 10 mm</td>
                                    <td>å½±éŸ¿ä¿¡è™Ÿæ¥è§¸é¢ç©</td>
                                </tr>
                                <tr>
                                    <td>é–“éš™</td>
                                    <td>1 - 3 mm</td>
                                    <td>é›»æ¥µä¹‹é–“çµ•ç·£</td>
                                </tr>
                            </tbody>
                        </table>
                        <h4>é›»æ¥µé…ç½®ç‰¹é»</h4>
                        <ul>
                            <li>âœ… åœ“å‘¨å‡å‹»åˆ†å¸ƒï¼Œæ¸¬é‡å°ç¨±æ€§å¥½</li>
                            <li>âœ… éŠ…ç®”é›»é˜»ä½ï¼Œä¿¡è™Ÿæè€—å°</li>
                            <li>âš ï¸ é›»æ¥µæ¥è§¸éœ€å¯é ç„Šæ¥æˆ–å°é›»è† </li>
                            <li>âš ï¸ éœ€è¦è€ƒæ…®ç†±è†¨è„¹ä¿‚æ•¸åŒ¹é…</li>
                        </ul>
                    </div>

                    <!-- Layer 4 Details -->
                    <div class="layer-info" data-info="4">
                        <h3>å±è”½å±¤è©³ç´°è¦æ ¼</h3>
                        <table class="spec-table">
                            <thead>
                                <tr>
                                    <th>åƒæ•¸</th>
                                    <th>è¦æ ¼</th>
                                    <th>èªªæ˜</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ææ–™</td>
                                    <td>éŠ…ç®” / é‹ç®”</td>
                                    <td>é›»ç£å±è”½</td>
                                </tr>
                                <tr>
                                    <td>åšåº¦</td>
                                    <td>20 - 50 Î¼m</td>
                                    <td>å±è”½æ•ˆèƒ½</td>
                                </tr>
                                <tr>
                                    <td>å±è”½æ•ˆèƒ½</td>
                                    <td>> 40 dB</td>
                                    <td>100 kHz - 1 MHz</td>
                                </tr>
                                <tr>
                                    <td>æ¥åœ°æ–¹å¼</td>
                                    <td>å–®é»æ¥åœ°</td>
                                    <td>é¿å…åœ°è¿´è·¯</td>
                                </tr>
                            </tbody>
                        </table>
                        <h4>å±è”½è¨­è¨ˆè¦é»</h4>
                        <ul>
                            <li>âœ… æœ‰æ•ˆéš”é›¢å¤–éƒ¨é›»ç£å¹²æ“¾</li>
                            <li>âœ… ä¿è­·æ¸¬é‡ä¿¡è™Ÿç´”æ·¨åº¦</li>
                            <li>âš ï¸ å¿…é ˆæ­£ç¢ºæ¥åœ°ï¼Œé¿å…å¹²æ“¾</li>
                            <li>âš ï¸ èˆ‡é›»æ¥µå±¤éœ€è‰¯å¥½çµ•ç·£</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 2: Electrode Configuration Visualization -->
        <div class="panel">
            <h2>ğŸ¯ é›»æ¥µé…ç½®è¦–è¦ºåŒ–</h2>
            <p>åœ“å‘¨åˆ†å¸ƒçš„20å€‹åœ“å¼§å½¢é›»æ¥µé…ç½®ç¤ºæ„åœ–</p>
            <canvas id="electrodeCanvas" width="600" height="600"></canvas>
            
            <div class="electrode-params">
                <div class="param-card">
                    <strong>é›»æ¥µç¸½æ•¸</strong>
                    <span>20 å€‹</span>
                </div>
                <div class="param-card">
                    <strong>é›»æ¥µå¤¾è§’</strong>
                    <span>18Â° (360Â°/20)</span>
                </div>
                <div class="param-card">
                    <strong>é›»æ¥µå¼§é•·</strong>
                    <span>31.4 mm (å‡è¨­ç›´å¾‘200mm)</span>
                </div>
                <div class="param-card">
                    <strong>é›»æ¥µé–“éš™</strong>
                    <span>2 mm</span>
                </div>
                <div class="param-card">
                    <strong>é›»æ¥µé¢ç©</strong>
                    <span>~314 mmÂ²</span>
                </div>
                <div class="param-card">
                    <strong>æ³¨å…¥é›»æµå¯†åº¦</strong>
                    <span>0.32 mA/mmÂ²</span>
                </div>
            </div>
        </div>

        <!-- Section 3: Electrode Design Calculator -->
        <div class="panel">
            <h2>ğŸ§® é›»æ¥µè¨­è¨ˆè¨ˆç®—å™¨</h2>
            <div class="calculator">
                <h3>è¼¸å…¥åƒæ•¸</h3>
                <div class="calc-input-group">
                    <div class="input-field">
                        <label for="diameter">åœ“å½¢ç›´å¾‘ (mm)</label>
                        <input type="number" id="diameter" value="200" min="50" max="1000">
                    </div>
                    <div class="input-field">
                        <label for="numElectrodes">é›»æ¥µæ•¸é‡</label>
                        <input type="number" id="numElectrodes" value="20" min="8" max="64">
                    </div>
                    <div class="input-field">
                        <label for="electrodeRatio">é›»æ¥µä½”æ¯” (%)</label>
                        <input type="number" id="electrodeRatio" value="80" min="50" max="95">
                    </div>
                </div>
                <button class="calc-button" onclick="calculateElectrodes()">æ›´æ–°è¨ˆç®—</button>
                
                <h3>è¨ˆç®—çµæœ</h3>
                <div class="calc-results">
                    <div class="result-item">
                        <span class="label">é›»æ¥µå¤¾è§’</span>
                        <span class="value" id="resultAngle">18.0Â°</span>
                    </div>
                    <div class="result-item">
                        <span class="label">é›»æ¥µå¼§é•·</span>
                        <span class="value" id="resultArcLength">31.4 mm</span>
                    </div>
                    <div class="result-item">
                        <span class="label">é–“éš™è§’åº¦</span>
                        <span class="value" id="resultGapAngle">3.6Â°</span>
                    </div>
                    <div class="result-item">
                        <span class="label">ç¸½æ¸¬é‡é€šé“æ•¸</span>
                        <span class="value" id="resultChannels">190</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 4: Core Hardware Components -->
        <div class="panel">
            <h2>âš™ï¸ æ ¸å¿ƒç¡¬é«”çµ„ä»¶å°æ¯”</h2>
            
            <h3>DAQ æ•¸æ“šæ¡é›†å–®å…ƒ</h3>
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>æ–¹æ¡ˆ</th>
                            <th>å„ªé»</th>
                            <th>ç¼ºé»</th>
                            <th>æˆæœ¬</th>
                            <th>é©ç”¨å ´æ™¯</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>NI PCI-6281</strong></td>
                            <td>
                                â€¢ é«˜ç²¾åº¦ (18-bit)<br>
                                â€¢ 250 kS/s æ¡æ¨£ç‡<br>
                                â€¢ æˆç†Ÿçš„è»Ÿé«”ç”Ÿæ…‹
                            </td>
                            <td>
                                â€¢ åƒ¹æ ¼æ˜‚è²´ (~$2000)<br>
                                â€¢ éœ€è¦PCä¸»æ©Ÿ<br>
                                â€¢ é«”ç©è¼ƒå¤§
                            </td>
                            <td>$$$$</td>
                            <td>å¯¦é©—å®¤ç ”ç©¶<br>é«˜ç²¾åº¦éœ€æ±‚</td>
                        </tr>
                        <tr>
                            <td><strong>STM32F407</strong></td>
                            <td>
                                â€¢ 12-bit ADC<br>
                                â€¢ 2.4 MSPS<br>
                                â€¢ ä½æˆæœ¬ (~$10)<br>
                                â€¢ ç¨ç«‹é‹ä½œ
                            </td>
                            <td>
                                â€¢ ç²¾åº¦è¼ƒä½<br>
                                â€¢ éœ€è¦å¤–éƒ¨é‹ç®—æ”¾å¤§å™¨<br>
                                â€¢ ç¨‹å¼é–‹ç™¼è¤‡é›œ
                            </td>
                            <td>$</td>
                            <td>åµŒå…¥å¼ç”¢å“<br>æˆæœ¬æ•æ„Ÿæ‡‰ç”¨</td>
                        </tr>
                        <tr>
                            <td><strong>ESP32</strong></td>
                            <td>
                                â€¢ å…§å»ºWiFi/è—ç‰™<br>
                                â€¢ 12-bit ADC<br>
                                â€¢ æ¥µä½æˆæœ¬ (~$5)<br>
                                â€¢ ç„¡ç·šå‚³è¼¸
                            </td>
                            <td>
                                â€¢ ADCç²¾åº¦ä¸è¶³<br>
                                â€¢ éç·šæ€§èª¤å·®å¤§<br>
                                â€¢ ä¸é©åˆé«˜ç²¾åº¦æ¸¬é‡
                            </td>
                            <td>$</td>
                            <td>åŸå‹é©—è­‰<br>æ•™å­¸æ¼”ç¤º</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>åˆ‡æ›ç®±ç³»çµ± (Switch Box)</h3>
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>æŠ€è¡“</th>
                            <th>åˆ‡æ›é€Ÿåº¦</th>
                            <th>æ¥è§¸é›»é˜»</th>
                            <th>å£½å‘½</th>
                            <th>æˆæœ¬</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>æ©Ÿæ¢°ç¹¼é›»å™¨</strong></td>
                            <td>10 - 20 ms</td>
                            <td>< 50 mÎ©</td>
                            <td>10âµ - 10â¶ æ¬¡</td>
                            <td>$</td>
                        </tr>
                        <tr>
                            <td><strong>å›ºæ…‹ç¹¼é›»å™¨</strong></td>
                            <td>< 1 ms</td>
                            <td>50 - 200 mÎ©</td>
                            <td>10â¹ æ¬¡</td>
                            <td>$$</td>
                        </tr>
                        <tr>
                            <td><strong>å¤šå·¥å™¨ IC</strong></td>
                            <td>< 1 Î¼s</td>
                            <td>< 10 Î©</td>
                            <td>ç„¡é™</td>
                            <td>$$</td>
                        </tr>
                        <tr>
                            <td><strong>FPGA æ§åˆ¶</strong></td>
                            <td>< 100 ns</td>
                            <td>å–æ±ºæ–¼é–‹é—œé¡å‹</td>
                            <td>ç„¡é™</td>
                            <td>$$$$</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>æ¨è–¦é›»è·¯æ¶æ§‹</h3>
            <div class="block-diagram">
                <h4>ä¿¡è™Ÿæµç¨‹æ–¹å¡Šåœ–</h4>
                <div class="diagram-flow">
                    <div class="diagram-block">
                        <strong>é›»æµæº</strong><br>
                        <small>100 Î¼A - 1 mA</small>
                    </div>
                    <div class="diagram-arrow">â†’</div>
                    <div class="diagram-block">
                        <strong>åˆ‡æ›ç®±</strong><br>
                        <small>20x20 çŸ©é™£</small>
                    </div>
                    <div class="diagram-arrow">â†’</div>
                    <div class="diagram-block highlight">
                        <strong>é›»æ¥µé™£åˆ—</strong><br>
                        <small>20 å€‹é›»æ¥µ</small>
                    </div>
                    <div class="diagram-arrow">â†’</div>
                    <div class="diagram-block">
                        <strong>å„€è¡¨æ”¾å¤§å™¨</strong><br>
                        <small>å¢ç›Š 100x</small>
                    </div>
                    <div class="diagram-arrow">â†’</div>
                    <div class="diagram-block">
                        <strong>ADC</strong><br>
                        <small>16-bit</small>
                    </div>
                    <div class="diagram-arrow">â†’</div>
                    <div class="diagram-block">
                        <strong>è™•ç†å™¨</strong><br>
                        <small>å½±åƒé‡å»º</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 5: System Design Challenges -->
        <div class="panel">
            <h2>ğŸ› ï¸ ç³»çµ±è¨­è¨ˆæŒ‘æˆ°èˆ‡è§£æ±ºæ–¹æ¡ˆ</h2>
            <div class="info-cards">
                <div class="info-card info">
                    <h4>ğŸ”Œ å±è”½èˆ‡æ¥åœ°ç­–ç•¥</h4>
                    <ul>
                        <li><strong>æŒ‘æˆ°ï¼š</strong>å¤šé€šé“ç³»çµ±å®¹æ˜“å—é›»ç£å¹²æ“¾</li>
                        <li><strong>è§£æ±ºæ–¹æ¡ˆï¼š</strong>
                            <ul>
                                <li>å®Œæ•´çš„æ³•æ‹‰ç¬¬ç± å±è”½è¨­è¨ˆ</li>
                                <li>å–®é»æ¥åœ°é¿å…åœ°è¿´è·¯</li>
                                <li>å·®åˆ†ä¿¡è™Ÿå‚³è¼¸é™ä½å…±æ¨¡å¹²æ“¾</li>
                                <li>å±è”½é›»çºœé€£æ¥æ‰€æœ‰é—œéµä¿¡è™Ÿ</li>
                            </ul>
                        </li>
                        <li><strong>é©—è­‰ï¼š</strong>EMIæ¸¬è©¦ç¢ºä¿ < 40 dBÎ¼V</li>
                    </ul>
                </div>

                <div class="info-card warning">
                    <h4>ğŸŒ¡ï¸ ç†±ç®¡ç†è¨­è¨ˆ</h4>
                    <ul>
                        <li><strong>æŒ‘æˆ°ï¼š</strong>é•·æ™‚é–“é‹ä½œå°è‡´æº«åº¦æ¼‚ç§»</li>
                        <li><strong>è§£æ±ºæ–¹æ¡ˆï¼š</strong>
                            <ul>
                                <li>ä½åŠŸè€—å…ƒä»¶é¸å‹ (< 5W ç¸½åŠŸè€—)</li>
                                <li>é‹åˆé‡‘å¤–æ®¼è¢«å‹•æ•£ç†±</li>
                                <li>æº«åº¦è£œå„Ÿæ¼”ç®—æ³•æ ¡æ­£</li>
                                <li>é¢¨æ‰‡ä¸»å‹•æ•£ç†± (é«˜åŠŸç‡æ–¹æ¡ˆ)</li>
                            </ul>
                        </li>
                        <li><strong>ç›®æ¨™ï¼š</strong>æº«å‡ < 10Â°C @ 25Â°C ç’°å¢ƒ</li>
                    </ul>
                </div>

                <div class="info-card success">
                    <h4>âš¡ æ©Ÿæ¢°æ‡‰åŠ›èˆ‡è€ä¹…æ€§</h4>
                    <ul>
                        <li><strong>æŒ‘æˆ°ï¼š</strong>è§¸æ§æ“ä½œé€ æˆå±¤é–“å‰é›¢</li>
                        <li><strong>è§£æ±ºæ–¹æ¡ˆï¼š</strong>
                            <ul>
                                <li>3M VHBé›™é¢è† å¸¶é»åˆ</li>
                                <li>ç†±è†¨è„¹ä¿‚æ•¸åŒ¹é…çš„ææ–™é¸æ“‡</li>
                                <li>é‚Šç·£åŠ å›ºè¨­è¨ˆé˜²æ­¢ç¿¹èµ·</li>
                                <li>å£½å‘½æ¸¬è©¦ > 100è¬æ¬¡è§¸æ§</li>
                            </ul>
                        </li>
                        <li><strong>æ¨™æº–ï¼š</strong>ç¬¦åˆ IEC 60950 æ©Ÿæ¢°å¼·åº¦è¦æ±‚</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Section 6: Complete BOM -->
        <div class="panel">
            <h2>ğŸ“‹ å®Œæ•´ç‰©æ–™æ¸…å–® (BOM)</h2>
            <div class="bom-table">
                <table>
                    <thead>
                        <tr>
                            <th>é¡åˆ¥</th>
                            <th>é …ç›®</th>
                            <th>è¦æ ¼</th>
                            <th>æ•¸é‡</th>
                            <th>å–®åƒ¹ (USD)</th>
                            <th>å°è¨ˆ (USD)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="category-row">
                            <td colspan="6">çµæ§‹ä»¶</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>PETä¿è­·å±¤</td>
                            <td>0.5mm, 250x250mm</td>
                            <td>1</td>
                            <td>15.00</td>
                            <td>15.00</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>ITOå°é›»è†œ</td>
                            <td>200 Î©/sq, 250x250mm</td>
                            <td>1</td>
                            <td>45.00</td>
                            <td>45.00</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>PCBé›»æ¥µæ¿</td>
                            <td>2å±¤æ¿, åœ“å½¢Ï†200mm</td>
                            <td>1</td>
                            <td>30.00</td>
                            <td>30.00</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>éŠ…ç®”å±è”½å±¤</td>
                            <td>35Î¼m, 250x250mm</td>
                            <td>1</td>
                            <td>8.00</td>
                            <td>8.00</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>é»åˆè† å¸¶</td>
                            <td>3M VHB 4910</td>
                            <td>1 roll</td>
                            <td>25.00</td>
                            <td>25.00</td>
                        </tr>

                        <tr class="category-row">
                            <td colspan="6">æ„Ÿæ¸¬å±¤</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>é›»æ¥µé€£æ¥å™¨</td>
                            <td>20-pin FPC é€£æ¥å™¨</td>
                            <td>2</td>
                            <td>2.50</td>
                            <td>5.00</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>FPCæ’ç·š</td>
                            <td>20-pin, 100mm</td>
                            <td>1</td>
                            <td>3.00</td>
                            <td>3.00</td>
                        </tr>

                        <tr class="category-row">
                            <td colspan="6">ä¸»æ§é›»è·¯</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>MCU</td>
                            <td>STM32F407VGT6</td>
                            <td>1</td>
                            <td>12.00</td>
                            <td>12.00</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>å¤šå·¥å™¨</td>
                            <td>ADG732 (32:1)</td>
                            <td>2</td>
                            <td>8.50</td>
                            <td>17.00</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>å„€è¡¨æ”¾å¤§å™¨</td>
                            <td>INA128</td>
                            <td>4</td>
                            <td>4.20</td>
                            <td>16.80</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>é›»æµæºIC</td>
                            <td>LT3092 (å¯ç¨‹æ§)</td>
                            <td>2</td>
                            <td>6.50</td>
                            <td>13.00</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>é›»æºæ¨¡çµ„</td>
                            <td>5V/3.3V é›™è¼¸å‡º</td>
                            <td>1</td>
                            <td>8.00</td>
                            <td>8.00</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>ä¸»æ§PCB</td>
                            <td>4å±¤æ¿, 100x80mm</td>
                            <td>1</td>
                            <td>35.00</td>
                            <td>35.00</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>è¢«å‹•å…ƒä»¶</td>
                            <td>é›»é˜»/é›»å®¹/é›»æ„Ÿ</td>
                            <td>1 å¥—</td>
                            <td>15.00</td>
                            <td>15.00</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>å¤–æ®¼</td>
                            <td>é‹åˆé‡‘æ©Ÿç®±</td>
                            <td>1</td>
                            <td>40.00</td>
                            <td>40.00</td>
                        </tr>

                        <tr class="total-row">
                            <td colspan="5"><strong>ç¸½è¨ˆ</strong></td>
                            <td><strong>$287.80</strong></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>æˆæœ¬å„ªåŒ–æ–¹æ¡ˆ</h3>
            <ul>
                <li>ğŸ”¹ <strong>ä½æˆæœ¬æ–¹æ¡ˆ (~$150)ï¼š</strong>ä½¿ç”¨ESP32æ›¿ä»£STM32ï¼Œç°¡åŒ–å¤šå·¥å™¨æ•¸é‡ï¼Œé©åˆæ•™å­¸æ¼”ç¤º</li>
                <li>ğŸ”¹ <strong>æ¨™æº–æ–¹æ¡ˆ (~$290)ï¼š</strong>ä¸Šè¿°é…ç½®ï¼Œé©åˆç ”ç©¶é–‹ç™¼èˆ‡åŸå‹é©—è­‰</li>
                <li>ğŸ”¹ <strong>é«˜ç²¾åº¦æ–¹æ¡ˆ (~$2500)ï¼š</strong>ä½¿ç”¨NI DAQ + å›ºæ…‹ç¹¼é›»å™¨çŸ©é™£ï¼Œé©åˆå¯¦é©—å®¤ç²¾å¯†æ¸¬é‡</li>
            </ul>
        </div>

        <!-- Section 7: Summary -->
        <div class="panel">
            <h2>ğŸ“Œ æŠ€è¡“ç¸½çµ</h2>
            <p>æœ¬æ–‡æª”è©³ç´°ä»‹ç´¹äº†EITè§¸æ§æ„Ÿæ¸¬å™¨çš„å®Œæ•´ç¡¬é«”æ¶æ§‹ï¼ŒåŒ…æ‹¬ï¼š</p>
            <ul>
                <li>âœ… å››å±¤çµæ§‹è¨­è¨ˆçš„ææ–™é¸æ“‡èˆ‡è¦æ ¼åƒæ•¸</li>
                <li>âœ… é›»æ¥µé…ç½®çš„å¹¾ä½•è¨ˆç®—èˆ‡è¦–è¦ºåŒ–å·¥å…·</li>
                <li>âœ… æ ¸å¿ƒç¡¬é«”çµ„ä»¶çš„æŠ€è¡“å°æ¯”èˆ‡é¸å‹å»ºè­°</li>
                <li>âœ… ç³»çµ±è¨­è¨ˆä¸­çš„é—œéµæŒ‘æˆ°èˆ‡å·¥ç¨‹è§£æ±ºæ–¹æ¡ˆ</li>
                <li>âœ… å®Œæ•´çš„ç‰©æ–™æ¸…å–®èˆ‡æˆæœ¬åˆ†æ</li>
            </ul>
            <p><strong>ä¸‹ä¸€æ­¥ï¼š</strong>å»ºè­°é–±è®€ã€Œæ¼”ç®—æ³•èˆ‡å½±åƒé‡å»ºã€ç« ç¯€ï¼Œäº†è§£å¦‚ä½•å°‡ç¡¬é«”æ¡é›†çš„åŸå§‹æ•¸æ“šè½‰æ›ç‚ºè§¸æ§ä½ç½®ä¿¡æ¯ã€‚</p>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="../assets/js/common.js"></script>
    <script src="../assets/js/navigation.js"></script>
    <script>
        // Layer switching functionality
        document.addEventListener('DOMContentLoaded', function() {
            const layerItems = document.querySelectorAll('.layer-item');
            const layerInfos = document.querySelectorAll('.layer-info');

            layerItems.forEach(item => {
                item.addEventListener('click', function() {
                    const layer = this.dataset.layer;
                    
                    // Remove active class from all items
                    layerItems.forEach(i => i.classList.remove('active'));
                    layerInfos.forEach(i => i.classList.remove('active'));
                    
                    // Add active class to clicked item
                    this.classList.add('active');
                    document.querySelector(`[data-info="${layer}"]`).classList.add('active');
                });
            });

            // Draw electrode configuration
            drawElectrodes();
        });

        // Draw electrode visualization
        function drawElectrodes() {
            const canvas = document.getElementById('electrodeCanvas');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 250;
            const numElectrodes = 20;
            const electrodeAngle = (360 / numElectrodes) * (Math.PI / 180);
            const gapAngle = electrodeAngle * 0.2; // 20% gap
            const electrodeArc = electrodeAngle * 0.8; // 80% electrode

            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw sensing area circle
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
            ctx.strokeStyle = '#34495e';
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.fillStyle = '#ecf0f1';
            ctx.fill();

            // Draw electrodes
            for (let i = 0; i < numElectrodes; i++) {
                const startAngle = i * electrodeAngle - Math.PI / 2;
                const endAngle = startAngle + electrodeArc;

                // Draw electrode arc
                ctx.beginPath();
                ctx.arc(centerX, centerY, radius, startAngle, endAngle);
                ctx.lineWidth = 20;
                ctx.strokeStyle = '#3498db';
                ctx.stroke();

                // Draw electrode number
                const labelAngle = startAngle + electrodeArc / 2;
                const labelX = centerX + Math.cos(labelAngle) * (radius - 40);
                const labelY = centerY + Math.sin(labelAngle) * (radius - 40);
                
                ctx.fillStyle = '#2c3e50';
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(`E${i + 1}`, labelX, labelY);
            }

            // Draw center label
            ctx.fillStyle = '#7f8c8d';
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('EIT æ„Ÿæ¸¬å€åŸŸ', centerX, centerY - 10);
            ctx.fillText('Ã˜ 200 mm', centerX, centerY + 10);
        }

        // Electrode calculator
        function calculateElectrodes() {
            const diameter = parseFloat(document.getElementById('diameter').value);
            const numElectrodes = parseInt(document.getElementById('numElectrodes').value);
            const electrodeRatio = parseFloat(document.getElementById('electrodeRatio').value) / 100;

            // Calculate results
            const anglePerElectrode = 360 / numElectrodes;
            const electrodeAngle = anglePerElectrode * electrodeRatio;
            const gapAngle = anglePerElectrode * (1 - electrodeRatio);
            
            const radius = diameter / 2;
            const circumference = 2 * Math.PI * radius;
            const arcLength = (electrodeAngle / 360) * circumference;
            
            // Total measurement channels: n(n-3)/2 for adjacent method
            const totalChannels = (numElectrodes * (numElectrodes - 3)) / 2;

            // Update display
            document.getElementById('resultAngle').textContent = electrodeAngle.toFixed(1) + 'Â°';
            document.getElementById('resultArcLength').textContent = arcLength.toFixed(1) + ' mm';
            document.getElementById('resultGapAngle').textContent = gapAngle.toFixed(1) + 'Â°';
            document.getElementById('resultChannels').textContent = Math.floor(totalChannels);
        }
    </script>
</body>
</html>
